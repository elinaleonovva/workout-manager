from django.core.management.base import BaseCommand
from api.models import Exercise


class Command(BaseCommand):
    help = 'Добавляет 10 примерных упражнений в базу данных'

    def handle(self, *args, **kwargs):
        exercises = [
            {
                'name': 'Приседания с собственным весом',
                'muscle_group': 'квадрицепсы, ягодичные, бицепс бедра',
                'description': 'Базовое упражнение для развития нижней части тела.',
                'equipment': 'не требуется',
                'technique': 'Встаньте прямо, ноги на ширине плеч. Опускайтесь вниз, отводя таз назад, сохраняя спину прямой. Достигнув параллели бёдер с полом, поднимайтесь обратно, опираясь на пятки.'
            },
            {
                'name': 'Жим гантелей лёжа',
                'muscle_group': 'грудные, трицепсы, передние дельты',
                'description': 'Упражнение для развития грудных мышц и рук.',
                'equipment': 'гантели, скамья',
                'technique': 'Лягте на скамью, удерживая гантели на уровне груди. Поднимайте их вверх до полного выпрямления рук, затем опускайте вниз в контролируемой траектории.'
            },
            {
                'name': 'Тяга верхнего блока',
                'muscle_group': 'широчайшие мышцы спины, бицепсы',
                'description': 'Упражнение для развития мышц спины.',
                'equipment': 'тренажёр верхней тяги',
                'technique': 'Возьмитесь широким хватом за рукоять и тяните её к груди, сводя лопатки. Медленно возвращайте рукоять в исходное положение.'
            },
            {
                'name': 'Выпады вперёд',
                'muscle_group': 'квадрицепсы, ягодичные',
                'description': 'Упражнение для развития ног и ягодиц.',
                'equipment': 'не требуется',
                'technique': 'Сделайте шаг вперёд и опуститесь до прямого угла в коленях. Вернитесь в исходное положение, отталкиваясь передней ногой.'
            },
            {
                'name': 'Подтягивания широким хватом',
                'muscle_group': 'широчайшие, бицепсы, предплечья',
                'description': 'Базовое упражнение для развития мышц спины.',
                'equipment': 'турник',
                'technique': 'Повисните на перекладине широким хватом. Подтягивайтесь до уровня, когда подбородок окажется над турником, затем плавно опускайтесь вниз.'
            },
            {
                'name': 'Планка',
                'muscle_group': 'пресс, кора, стабилизаторы',
                'description': 'Изометрическое упражнение для укрепления мышц кора.',
                'equipment': 'не требуется',
                'technique': 'Примите упор на предплечья, тело держите прямым от головы до пят. Сохраняйте статичное положение, не проваливая таз и не поднимая его слишком высоко.'
            },
            {
                'name': 'Становая тяга с гантелями',
                'muscle_group': 'ягодичные, бицепс бедра, мышцы спины',
                'description': 'Упражнение для развития задней цепи мышц.',
                'equipment': 'гантели',
                'technique': 'Держите гантели перед бедрами, наклонитесь, отводя таз назад и сохраняя спину прямой. Вернитесь в исходное положение, сокращая ягодичные.'
            },
            {
                'name': 'Тяга гантели в наклоне одной рукой',
                'muscle_group': 'мышцы спины, задние дельты, бицепсы',
                'description': 'Упражнение для развития мышц спины и задних дельт.',
                'equipment': 'гантель, скамья',
                'technique': 'Опираясь на скамью одной рукой, другой поднимайте гантель вверх, сводя лопатки. Опускайте руку плавно, контролируя движение.'
            },
            {
                'name': 'Отжимания от пола',
                'muscle_group': 'грудные, трицепсы, плечи',
                'description': 'Базовое упражнение для развития верхней части тела.',
                'equipment': 'не требуется',
                'technique': 'Примите упор лёжа. Опускайтесь до касания груди пола и поднимайтесь вверх, удерживая корпус прямым от плеч до пят.'
            },
            {
                'name': 'Скручивания на пресс',
                'muscle_group': 'прямые мышцы живота',
                'description': 'Упражнение для развития мышц пресса.',
                'equipment': 'коврик',
                'technique': 'Лёжа на спине, согните ноги и поставьте стопы на пол. Поднимайте верхнюю часть корпуса, напрягая мышцы пресса, и плавно возвращайтесь назад.'
            }
        ]

        for ex in exercises:
            obj, created = Exercise.objects.get_or_create(name=ex['name'], defaults=ex)
            if created:
                self.stdout.write(self.style.SUCCESS(f"Добавлено упражнение: {ex['name']}"))
            else:
                # Обновляем существующие упражнения
                for key, value in ex.items():
                    setattr(obj, key, value)
                obj.save()
                self.stdout.write(self.style.WARNING(f"Обновлено упражнение: {ex['name']}"))
