from django.core.management.base import BaseCommand
from api.models import Exercise


class Command(BaseCommand):
    help = 'Добавляет 10 примерных упражнений в базу данных'

    def handle(self, *args, **kwargs):
        exercises = [
            {
                'name': 'Планка',
                'muscle_group': 'кор, пресс, мышцы стабилизаторы',
                'description': 'Статическое упражнение для укрепления мышц корпуса. Рекомендуемое время выполнения — 2 минуты.',
                'equipment': 'не требуется',
                'technique': 'Примите упор на предплечьях, держите тело прямым от головы до пят. Не прогибайте поясницу и не поднимайте таз слишком высоко.'
            },
            {
                'name': 'Берпи без прыжка',
                'muscle_group': 'кор, ноги, плечи, общая выносливость',
                'description': 'Функциональное упражнение, повышающее общую физическую форму. Выполняется непрерывно около 2 минут.',
                'equipment': 'не требуется',
                'technique': 'Из положения стоя опуститесь в упор лёжа, затем вернитесь обратно. Движения выполняйте плавно, без прыжков.'
            },
            {
                'name': 'Ягодичный мост',
                'muscle_group': 'ягодичные, задняя поверхность бедра, кор',
                'description': 'Эффективное упражнение для укрепления ягодичных мышц. Время выполнения — около 2 минут.',
                'equipment': 'коврик (по желанию)',
                'technique': 'Лягте на спину, согните ноги. Поднимайте таз вверх, сокращая ягодицы, и плавно опускайте вниз.'
            },
            {
                'name': 'Боковая планка',
                'muscle_group': 'косые мышцы живота, кор',
                'description': 'Упражнение для развития боковых мышц пресса и стабилизаторов. Держите по 1 минуте на каждую сторону.',
                'equipment': 'не требуется',
                'technique': 'Лягте на бок и поднимитесь на предплечье. Держите тело прямым, не проваливайтесь в пояснице.'
            },
            {
                'name': 'Подъём корпуса (классические скручивания)',
                'muscle_group': 'прямые мышцы живота',
                'description': 'Лёгкое упражнение для пресса. Рекомендуемая длительность — 2 минуты вместе с паузами.',
                'equipment': 'коврик',
                'technique': 'Поднимайте верхнюю часть корпуса, напрягая пресс, избегая рывков шеей.'
            },
            {
                'name': 'Махи ногами назад стоя',
                'muscle_group': 'ягодичные мышцы, задняя поверхность бедра',
                'description': 'Упражнение для укрепления ягодиц без нагрузки. Выполняется плавно около 2 минут.',
                'equipment': 'не требуется',
                'technique': 'Из положения стоя отводите прямую ногу назад, удерживая корпус неподвижным.'
            },
            {
                'name': 'Пружинки в выпаде',
                'muscle_group': 'ноги, ягодичные, кор',
                'description': 'Низкоударное упражнение, направленное на укрепление нижней части тела. Выполняется по 1 минуте на каждую ногу.',
                'equipment': 'не требуется',
                'technique': 'Встаньте в выпад и делайте небольшие пружинящие движения вверх-вниз.'
            },
            {
                'name': 'Статический присед у стены',
                'muscle_group': 'квадрицепсы, ягодичные',
                'description': 'Изометрическое упражнение для ног. Время выполнения — 2 минуты.',
                'equipment': 'стена',
                'technique': 'Прижмитесь спиной к стене и опуститесь в положение, когда бёдра параллельны полу.'
            },
            {
                'name': 'Подъём коленей стоя',
                'muscle_group': 'пресс, бедра, кор',
                'description': 'Лёгкое кардио-упражнение, выполняемое без прыжков в течение 2 минут.',
                'equipment': 'не требуется',
                'technique': 'Поднимайте колени к груди в ритмичном темпе, помогая руками.'
            },
            {
                'name': '«Лодочка» на полу',
                'muscle_group': 'поясница, ягодицы, задняя цепь',
                'description': 'Статико-динамическое упражнение для мышц спины. Время выполнения — 2 минуты.',
                'equipment': 'коврик',
                'technique': 'Лягте на живот и поднимайте одновременно руки и ноги, удерживая корпус напряжённым.'
            }
        ]

        for ex in exercises:
            obj, created = Exercise.objects.get_or_create(name=ex['name'], defaults=ex)
            if created:
                self.stdout.write(self.style.SUCCESS(f"Добавлено упражнение: {ex['name']}"))
            else:
                # Обновляем существующие упражнения
                for key, value in ex.items():
                    setattr(obj, key, value)
                obj.save()
                self.stdout.write(self.style.WARNING(f"Обновлено упражнение: {ex['name']}"))
